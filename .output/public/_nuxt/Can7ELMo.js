import{s as c,v as d}from"./DJW9b-ru.js";const f=()=>{let t=null,n=null;const s=e=>{e.forEach(i=>{i.classList.add("is-visible")})};c(()=>{if(typeof window>"u")return;const e=Array.from(document.querySelectorAll("[data-reveal]"));if(!e.length)return;if(window.matchMedia("(prefers-reduced-motion: reduce)").matches){s(e);return}if(!("IntersectionObserver"in window)){s(e);return}t=new IntersectionObserver((r,o)=>{r.forEach(l=>{if(!l.isIntersecting)return;const a=l.target;a.classList.add("is-visible"),o.unobserve(a)})},{threshold:.2}),e.forEach(r=>{const o=r.dataset.revealDelay;o&&(r.style.transitionDelay=`${o}ms`),t?.observe(r)}),n=window.setTimeout(()=>{s(e),t?.disconnect(),t=null},1200)}),d(()=>{t?.disconnect(),t=null,n!==null&&(window.clearTimeout(n),n=null)})};export{f as u};
